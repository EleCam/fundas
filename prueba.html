<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.86, maximum-scale=5.0, minimum-scale=0.86">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.8.17/jquery-ui.min.js"></script>
</head>
<body>
<div id="" class="">
   <label for="file">Elegir archivo</label>
    <canvas class="lienzo" id="lienzo" width="800px" height="800px"></canvas>
</div>
<form id="file-submit" enctype="multipart/form-data" style="display: none;">
    <input id="file" name="file" type="file"/>
</form>
</body>
</html>
<script>   
$(document).ready(function(){    
    $('input[type=file]').change(function() {
                
        var file = (this.files[0].name).toString();
        var reader = new FileReader();
        
        
        
       var canvas = document.getElementById("lienzo");
        var ctx = canvas.getContext("2d");

        var degrees = 0;

        var image = document.createElement("img");
        image.onload = function() {
          canvas.width = image.width;
          canvas.height = image.height;
          ctx.drawImage(image, 0, 0);
        }
         reader.onload = function (e) {
             image.src = e.target.result;
         }
         reader.readAsDataURL(this.files[0]);
    });
    


    $("#clockwise").click(function() {
      degrees += 90
      if (degrees >= 360) degrees = 0;

      if (degrees === 0 || degrees === 180) {
        canvas.width = image.width;
        canvas.height = image.height;
      } else {
        // swap
        canvas.width = image.height;
        canvas.height = image.width;
      }
      ctx.save();
      // you want to rotate around center of canvas
      ctx.translate(canvas.width / 2, canvas.height / 2);

      ctx.rotate(degrees * Math.PI / 180);

      ctx.drawImage(image, -image.width * 0.5, -image.height * 0.5);
      ctx.restore();
    });

});
    </script>
